---
import CustomImage from "./CustomImage.astro";
const { data, slug } = Astro.props;

const categoryColors = {
 Руководство:
  "text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-red-400",
 Сегодня: "text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400",
 Практика: "text-transparent bg-clip-text bg-gradient-to-r from-green-600 to-green-400",
 Разработка: "text-transparent bg-clip-text bg-gradient-to-b from-red-500 to-pink-600",
 Адаптация: "text-fuchsia-500",
 Решение: "text-violet-700",
 Биография: "text-amber-500",
};

const { title, desc, category, poster, author } = data;
---

<a href={"/posts/" + slug} rel="prefetch" aria-label="Пост">
 <article id="post" class="hover-top">
  <CustomImage
   src={poster}
   alt={"Изображение на сайте " + Astro.site}
   title={"Изображение"}
   loading
  />
  <div class="flex flex-col gap-4 bg-white rounded-lg p-5">
   <div class="flex items-center justify-between">
    <span
     class={`inline-block font-semibold text-[14px] ${
      categoryColors[category] ?? "text-indigo-800"
     }`}
    >
     #{category}
    </span>
    <span class="inline-flex gap-[5px] items-center font-semibold text-[14px]"
     ><svg
      width="12"
      height="12"
      viewBox="0 0 12 12"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
     >
      <path
       d="M6 0C6.79565 0 7.55871 0.31607 8.12132 0.87868C8.68393 1.44129 9 2.20435 9 3C9 3.79565 8.68393 4.55871 8.12132 5.12132C7.55871 5.68393 6.79565 6 6 6C5.20435 6 4.44129 5.68393 3.87868 5.12132C3.31607 4.55871 3 3.79565 3 3C3 2.20435 3.31607 1.44129 3.87868 0.87868C4.44129 0.31607 5.20435 0 6 0ZM6 7.5C9.315 7.5 12 8.8425 12 10.5V12H0V10.5C0 8.8425 2.685 7.5 6 7.5Z"
       fill="#040722"></path>
     </svg> {author}</span
    >
   </div>
   <h2 class="font-bold text-[30px] leading-[110%]">{title}</h2>
   <p class="leading-[130%] text-[#3D3D3D] text-[16px] font-normal">{desc}</p>
  </div>
 </article>
</a>

<style>
 p,
 h2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
 }
</style>
